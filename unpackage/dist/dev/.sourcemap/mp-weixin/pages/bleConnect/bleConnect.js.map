{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/好运天天购商家版/pages/bleConnect/bleConnect.vue?23a2","webpack:///D:/Work/好运天天购商家版/pages/bleConnect/bleConnect.vue?97d5","webpack:///D:/Work/好运天天购商家版/pages/bleConnect/bleConnect.vue?f36b","webpack:///D:/Work/好运天天购商家版/pages/bleConnect/bleConnect.vue?eeae","uni-app:///pages/bleConnect/bleConnect.vue","webpack:///D:/Work/好运天天购商家版/pages/bleConnect/bleConnect.vue?57e6","webpack:///D:/Work/好运天天购商家版/pages/bleConnect/bleConnect.vue?1878"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,4G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAumB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkB3nB,gD;AACA;AACA,MADA,kBACA;AACA;AACA,wBADA,EACA;AACA,cAFA;AAGA,kBAHA;AAIA,kBAJA;AAKA,2BALA;AAMA,0BANA;AAOA,4BAPA;;AASA,GAXA;AAYA;AACA;AACA,2FADA,GADA,CAZA;;;AAiBA,QAjBA,oBAiBA;AACA;;AAEA,GApBA;AAqBA,UArBA,sBAqBA;AACA;AACA;AACA;AACA;AACA,GA1BA;AA2BA;AACA;AACA,qBADA,EADA;;AAIA;AACA,gBALA,wBAKA,IALA,EAKA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,6BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,2BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,uBADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,2BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,8BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,8BADA;AAEA,sBAFA;;AAIA,OALA,MAKA;AACA;AACA,kDADA;AAEA,sBAFA;;AAIA;AACA,KA3DA;AA4DA;AACA,eA7DA,yBA6DA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA,mBADA,mBACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,gCAFA;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA,eAdA,MAcA;AACA;AACA,6BADA;AAEA,oCAFA;;AAIA;AACA,aAvBA;;AAyBA,SA3BA;AA4BA,YA5BA,kBA4BA;AACA;AACA,uBADA;AAEA,oCAFA;;AAIA,SAjCA;;AAmCA,KAlGA;AAmGA,cAnGA,wBAmGA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA,SARA;;AAUA,KA9GA;AA+GA;AACA,kBAhHA,4BAgHA;AACA;AACA;AACA;AACA,KApHA;AAqHA;AACA,uBAtHA,iCAsHA;AACA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAJA;AAKA,aALA;AAMA;AACA;AACA;AACA,iBAFA;AAGA;AACA;AACA;AACA;AACA,eAdA,EAKA;AAUA;;AAEA;AACA,WAlBA;AAmBA;AACA;AACA;AACA,qBADA,mBACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAZA;;;AAeA;AACA,WAlBA,EAkBA,IAlBA;AAmBA,SA1CA;;;AA6CA,KAtKA;AAuKA;AACA,eAxKA,uBAwKA,CAxKA,EAwKA;AACA,sBADA;;AAGA,WAHA;AAIA,6BAJA,CAGA,KAHA;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBADA;;AAGA;AACA;AACA;AACA,uBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA,YARA,gBAQA,CARA,EAQA;AACA;AACA;AACA;AACA,SAZA;;AAcA,KAtMA;AAuMA;AACA,eAxMA,yBAwMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDADA;AAEA,iBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA,WANA;AAOA;AACA;AACA;AACA;AACA,WAXA;;AAaA,OAfA,EAeA,IAfA;AAgBA,KA5NA;AA6NA,sBA7NA,gCA6NA;AACA,sBADA;;AAGA,UAHA;;;;;AAQA,UARA,CAGA,QAHA,CAIA,GAJA,GAQA,IARA,CAIA,SAJA,CAKA,KALA,GAQA,IARA,CAKA,cALA,CAMA,IANA,GAQA,IARA,CAMA,aANA,CAOA,MAPA,GAQA,IARA,CAOA,eAPA;AASA;AACA;AACA,8CADA;AAEA,iCAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,qCAFA;;AAIA,aALA,MAKA;AACA;AACA;AACA,WAdA,MAcA;AACA;AACA;AACA,yBADA;AAEA,gCAFA;AAGA,+BAHA;AAIA;AACA;AACA;AACA,4BADA;;AAGA;AACA,eAVA;;AAYA;AACA,SA9DA;AA+DA;AACA;AACA;AACA,SAlEA;;AAoEA,KA3SA;AA4SA;AACA;AACA,6CADA;;AAGA,KAhTA,GA3BA,E;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAknC,CAAgB,okCAAG,EAAC,C;;;;;;;;;;;ACAtoC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/bleConnect/bleConnect.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/bleConnect/bleConnect.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bleConnect.vue?vue&type=template&id=d25071da&\"\nvar renderjs\nimport script from \"./bleConnect.vue?vue&type=script&lang=js&\"\nexport * from \"./bleConnect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bleConnect.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Work/好运天天购商家版/pages/bleConnect/bleConnect.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bleConnect.vue?vue&type=template&id=d25071da&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bleConnect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bleConnect.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\n\t\t\r\n\t\t<button class=\"btn\" type=\"primary\" :loading=\"isSearching\" @tap=\"startSearch\">开始搜索 </button>\n\t\t<button class=\"btn\" type=\"warn\" @tap=\"stopSearch\">停止搜索</button>\n\t\t\n\t\t\r\n\t\t<view v-for=\"(item) in list\" :data-title=\"item.deviceId\" :data-name=\"item.name\" :data-advertisData=\"item.advertisServiceUUIDs\"\r\n\t\t :key=\"item.deviceId\" @tap=\"bindViewTap\">\r\n\t\t\t<view class=\"item mt-1\">\r\n\t\t\t\t<view class=\"deviceId block\">{{item.deviceId}}</view>\r\n\t\t\t\t<view class=\"name block\">{{item.name}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\n\t\t\t\tisSearching: false, //是否正在搜索中\r\n\t\t\t\tlist: [],\r\n\t\t\t\tservices: [],\r\n\t\t\t\tserviceId: 0,\r\n\t\t\t\twriteCharacter: false,\r\n\t\t\t\treadCharacter: false,\r\n\t\t\t\tnotifyCharacter: false\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tBLEInformation:state=>state.bluetooth.BLEInformation,\r\n\t\t\t})\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// console.log(this.Bluetooth)\n\t\t\t\r\n\t\t},\r\n\t\tonUnload() {\n\t\t\t//停止搜索蓝牙设备\n\t\t\tif (this.isSearching) {\n\t\t\t\tuni.stopBluetoothDevicesDiscovery();\n\t\t\t}\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'BLEInformationSet'\r\n\t\t\t]),\r\n\t\t\t//错误码提示\n\t\t\terrorCodeTip(code) {\n\t\t\t\tif (code == 0) {\n\t\t\t\t\t//正常\n\t\t\t\t} else if (code == 10000) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '未初始化蓝牙适配器',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10001) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '当前蓝牙适配器不可用',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10002) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '没有找到指定设备',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10003) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '连接失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10004) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '没有找到指定服务',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10005) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '没有找到指定特征值',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10006) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '当前连接已断开',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10007) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '当前特征值不支持此操作',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10008) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '其余所有系统上报的异常',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} else if (code == 10009) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Android 系统特有，系统版本低于 4.3 不支持 BLE',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//开始搜索蓝牙\n\t\t\tstartSearch() {\n\t\t\t\tlet that = this\n\t\t\t\tuni.openBluetoothAdapter({\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tuni.getBluetoothAdapterState({\n\t\t\t\t\t\t\tsuccess(res2) {\n\t\t\t\t\t\t\t\tconsole.log('getBluetoothAdapterState:', res2)\n\t\t\t\t\t\t\t\tif (res2.available) {\n\t\t\t\t\t\t\t\t\tthat.isSearching = true;\n\t\t\t\t\t\t\t\t\tif (res2.discovering) {\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '正在搜索附近打印机设备',\n\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\t\t\t\t//获取蓝牙设备信息\n\t\t\t\t\t\t\t\t\tthat.getBluetoothDevices()\n\t\t\t\n\t\t\t\t\t\t\t\t\t// that.checkPemission()\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\t\tcontent: '本机蓝牙不可用',\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '蓝牙初始化失败，请打开蓝牙',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tstopSearch() {\n\t\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.isSearching = false;\n\t\t\t\t\t\tconsole.log('stop:', res)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (e) => {\n\t\t\t\t\t\tconsole.log('stop:', e)\n\t\t\t\t\t\tthis.errorCodeTip(e.errCode);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//校验权限\n\t\t\tcheckPemission() {\n\t\t\t\tlet that = this\n\t\t\t\tlet platform = that.BLEInformation.platform;\n\t\t\t\tthat.getBluetoothDevices();\n\t\t\t},\n\t\t\t//获取蓝牙设备信息\n\t\t\tgetBluetoothDevices() {\n\t\t\t\tlet that = this\n\t\t\t\tthat.list = [];\n\t\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t// console.log(res)\n\t\t\t\t\t\t//蓝牙设备监听 uni.onBluetoothDeviceFound\n\t\t\t\t\t\tplus.bluetooth.onBluetoothDeviceFound((result) => {\n\t\t\t\t\t\t\tconsole.log('onBluetoothDeviceFound:', result)\n\t\t\t\t\t\t\tlet arr = that.list;\n\t\t\t\t\t\t\tlet devices = [];\n\t\t\t\t\t\t\tlet list = result.devices;\n\t\t\t\t\t\t\tfor (let i = 0; i < list.length; ++i) {\n\t\t\t\t\t\t\t\tif (list[i].name && list[i].name != \"未知设备\") {\n\t\t\t\t\t\t\t\t\tlet arrNew = arr.filter((item) => {\n\t\t\t\t\t\t\t\t\t\treturn item.deviceId == list[i].deviceId;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// console.log('arrNew:',arrNew.length)\n\t\t\t\t\t\t\t\t\tif (arrNew.length == 0) {\n\t\t\t\t\t\t\t\t\t\tdevices.push(list[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\t\tthat.list = arr.concat(devices);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.time = setTimeout(() => {\n\t\t\t\t\t\t\t// uni.getBluetoothDevices\n\t\t\t\t\t\t\tplus.bluetooth.getBluetoothDevices({\n\t\t\t\t\t\t\t\tsuccess(res2) {\n\t\t\t\t\t\t\t\t\tlet devices = [];\n\t\t\t\t\t\t\t\t\tlet list = res2.devices;\n\t\t\t\t\t\t\t\t\tfor (let i = 0; i < list.length; ++i) {\n\t\t\t\t\t\t\t\t\t\tif (list[i].name && list[i].name != \"未知设备\") {\n\t\t\t\t\t\t\t\t\t\t\tdevices.push(list[i]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t\t\t\t\tthat.list = devices;\n\t\t\t\t\t\t\t\t\tconsole.log('getBluetoothDevices:',res2);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t})\n\t\t\t\n\t\t\t\t\t\t\tclearTimeout(that.time);\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\n\t\t\t},\n\t\t\t//绑定蓝牙\n\t\t\tbindViewTap(e) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet {\n\t\t\t\t\ttitle\n\t\t\t\t} = e.currentTarget.dataset;\n\t\t\t\tthis.stopSearch();\n\t\t\t\t\n\t\t\t\tthat.serviceId = 0;\n\t\t\t\tthat.writeCharacter = false;\n\t\t\t\tthat.readCharacter = false;\n\t\t\t\tthat.notifyCharacter = false;\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '正在连接',\n\t\t\t\t})\n\t\t\t\tconsole.log('deviceId:', title)\n\t\t\t\t// uni.createBLEConnection\n\t\t\t\tplus.bluetooth.createBLEConnection({\n\t\t\t\t\tdeviceId: title,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log('createBLEConnection success:', res)\n\t\t\t\t\t\tthat.BLEInformation.deviceId = title;\n\t\t\t\t\t\tthat.BLEInformationSet(that.BLEInformation)\n\t\t\t\t\t\tthat.getSeviceId()\n\t\t\t\t\t},\n\t\t\t\t\tfail(e) {\r\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\tthat.errorCodeTip(e.errCode);\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//获取蓝牙设备所有服务(service)。\n\t\t\tgetSeviceId() {\n\t\t\t\tlet that = this;\n\t\t\t\tconsole.log('BLEInformation.deviceId:', that.BLEInformation.deviceId)\n\t\t\t\t// uni.getBLEDeviceServices\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tplus.bluetooth.getBLEDeviceServices({\r\n\t\t\t\t\t\tdeviceId: that.BLEInformation.deviceId,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log('getBLEDeviceServices success:',res)\r\n\t\t\t\t\t\t\tthat.services = res.services;\r\n\t\t\t\t\t\t\tthat.getCharacteristics()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\t\tthat.errorCodeTip(e.code);\t\r\n\t\t\t\t\t\t\t// 这里如果第一次出现code=10005 应该是uniapp的bug 第二次获取又是正常的\r\n\t\t\t\t\t\t\tconsole.log('getBLEDeviceServices fail:',e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 2500)\n\t\t\t},\n\t\t\tgetCharacteristics() {\n\t\t\t\tvar that = this\n\t\t\t\tlet {\n\t\t\t\t\tservices: list,\n\t\t\t\t\tserviceId: num,\n\t\t\t\t\twriteCharacter: write,\n\t\t\t\t\treadCharacter: read,\n\t\t\t\t\tnotifyCharacter: notify\n\t\t\t\t} = that;\n\t\t\t\t// uni.getBLEDeviceCharacteristics\n\t\t\t\tplus.bluetooth.getBLEDeviceCharacteristics({\n\t\t\t\t\tdeviceId: that.BLEInformation.deviceId,\n\t\t\t\t\tserviceId: list[num].uuid,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t// console.log(res)\n\t\t\t\t\t\tfor (var i = 0; i < res.characteristics.length; ++i) {\n\t\t\t\t\t\t\tvar properties = res.characteristics[i].properties\n\t\t\t\t\t\t\tvar item = res.characteristics[i].uuid\n\t\t\t\t\t\t\tif (!notify) {\n\t\t\t\t\t\t\t\tif (properties.notify) {\n\t\t\t\t\t\t\t\t\tthat.BLEInformation.notifyCharaterId = item;\n\t\t\t\t\t\t\t\t\tthat.BLEInformation.notifyServiceId = list[num].uuid;\n\t\t\t\t\t\t\t\t\tthat.BLEInformationSet(that.BLEInformation);\n\t\t\t\t\t\t\t\t\tnotify = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!write) {\n\t\t\t\t\t\t\t\tif (properties.write) {\n\t\t\t\t\t\t\t\t\tthat.BLEInformation.writeCharaterId = item;\n\t\t\t\t\t\t\t\t\tthat.BLEInformation.writeServiceId = list[num].uuid;\n\t\t\t\t\t\t\t\t\tthat.BLEInformationSet(that.BLEInformation);\n\t\t\t\t\t\t\t\t\twrite = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!read) {\n\t\t\t\t\t\t\t\tif (properties.read) {\n\t\t\t\t\t\t\t\t\tthat.BLEInformation.readCharaterId = item;\n\t\t\t\t\t\t\t\t\tthat.BLEInformation.readServiceId = list[num].uuid;\n\t\t\t\t\t\t\t\t\tthat.BLEInformationSet(that.BLEInformation);\n\t\t\t\t\t\t\t\t\tread = true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!write || !notify || !read) {\n\t\t\t\t\t\t\tnum++\n\t\t\t\t\t\t\tthat.writeCharacter = write;\n\t\t\t\t\t\t\tthat.readCharacter = read;\n\t\t\t\t\t\t\tthat.notifyCharacter = notify;\n\t\t\t\t\t\t\tthat.serviceId = num;\n\t\t\t\t\t\t\tif (num == list.length) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '找不到该读写的特征值',\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.getCharacteristics()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// that.openControl()\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '蓝牙连接已成功',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(e) {\n\t\t\t\t\t\tconsole.log(\"getBLEDeviceCharacteristics fail：\",e);\n\t\t\t\t\t\tthat.errorCodeTip(e.errCode);\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\topenControl: function() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/sendCommand/sendCommand',\n\t\t\t\t})\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.btn {\r\n\t\tmargin-top: 50rpx;\r\n\t\theight: 40px;\r\n\t\twidth: 600rpx;\r\n\t\tline-height: 40px;\r\n\t}\r\n\r\n\t.item {\r\n\t\tdisplay: block;\r\n\t\tfont-family: Arial, Helvetica, sans-serif;\r\n\t\tfont-size: 14px;\r\n\t\tmargin: 0 30px;\r\n\t\tmargin-top: 10px;\r\n\t\tbackground-color: #FFA850;\r\n\t\tborder-radius: 5px;\r\n\t\tborder-bottom: 2px solid #68BAEA;\r\n\t}\r\n\r\n\t.block {\r\n\t\tdisplay: block;\r\n\t\tcolor: #ffffff;\r\n\t\tpadding: 5px;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bleConnect.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bleConnect.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591694815992\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}