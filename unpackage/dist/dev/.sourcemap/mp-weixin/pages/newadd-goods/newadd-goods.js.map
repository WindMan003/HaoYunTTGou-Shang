{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/好运天天购商家版/pages/newadd-goods/newadd-goods.vue?52d3","webpack:///D:/Work/好运天天购商家版/pages/newadd-goods/newadd-goods.vue?17ff","webpack:///D:/Work/好运天天购商家版/pages/newadd-goods/newadd-goods.vue?f1a8","webpack:///D:/Work/好运天天购商家版/pages/newadd-goods/newadd-goods.vue?d5d6","uni-app:///pages/newadd-goods/newadd-goods.vue"],"names":["createPage","Page"],"mappings":"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;AAiHA,iBAjHA,2BAiHA;AACA;AACA,KAnHA;AAoHA,gBApHA,0BAoHA;AACA;AACA,KAtHA;AAuHA,cAvHA,wBAuHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;;AAEA;AACA,qCADA;AAEA,4BAFA;AAGA,8BAHA;AAIA,sCAJA;AAKA,8BALA;AAMA,0BANA;AAOA,oCAPA;;AASA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA;AACA,mBADA,EAFA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WARA,MAQA;AACA;AACA;AACA,sBADA;;AAGA;AACA,SAjBA,MAiBA;AACA;AACA;AACA,OA1BA;AA2BA,KArNA,GAzEA,E","file":"pages/newadd-goods/newadd-goods.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/newadd-goods/newadd-goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./newadd-goods.vue?vue&type=template&id=85b93e1a&\"\nvar renderjs\nimport script from \"./newadd-goods.vue?vue&type=script&lang=js&\"\nexport * from \"./newadd-goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Work/好运天天购商家版/pages/newadd-goods/newadd-goods.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newadd-goods.vue?vue&type=template&id=85b93e1a&\"","var components = {\n  uniCombox: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-combox/uni-combox\" */ \"@/components/uni-combox/uni-combox.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newadd-goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./newadd-goods.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"\">\n\t\t<view class=\"ml-2 font-22\" style=\"color: #FF0000;\">带*的为必填项</view>\r\n\t\t<view class=\"ml-2 d-flex flex-column\">\r\n\t\t\t<view class=\"d-flex flex-column j-center\">\r\n\t\t\t\t<view class=\"d-flex flex-row\">\r\n\t\t\t\t\t<view class=\"font-30 font-weight\">产品分类</view>\r\n\t\t\t\t\t<view class=\"font-24 ml-1\" style=\"color: #FF0000;\">*</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"border\" style=\"width: 200rpx;\">\r\n\t\t\t\t\t<uni-combox :value=\"getTypeName\" :candidates=\"getTypeNameList\" placeholder=\"分类\" @input=\"typeInput\"></uni-combox>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"d-flex flex-row\">\r\n\t\t\t\t\t<view class=\"font-30 font-weight\">产品名称</view>\r\n\t\t\t\t\t<view class=\"font-24 ml-1\" style=\"color: #FF0000;\">*</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input class=\"border font-30\" style=\"width: 400rpx; border-radius: 10rpx;\" type=\"text\" :value=\"nameText\"\r\n\t\t\t\tplaceholder=\"请输入产品名称\" maxlength=\"8\" @input=\"nameInput\"/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"d-flex flex-row\">\r\n\t\t\t\t\t<view class=\"font-30 font-weight\">产品价格</view>\r\n\t\t\t\t\t<view class=\"font-24 ml-1\" style=\"color: #FF0000;\">*</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input class=\"border font-30\" style=\"width: 400rpx; border-radius: 10rpx;\" type=\"text\" :value=\"priceText\"\r\n\t\t\t\tplaceholder=\"请输入产品价格\" maxlength=\"8\" @input=\"priceInput\"/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"d-flex flex-row\">\r\n\t\t\t\t\t<view class=\"font-30 font-weight\">产品图片</view>\r\n\t\t\t\t\t<view class=\"font-24 ml-1\" style=\"color: #FF0000;\">*</view>\r\n\t\t\t\t\t<view class=\"ml-4 border font-28 pl-1 pr-1\" @click=\"upload\"\r\n\t\t\t\t\tstyle=\"background-color: #007AFF; color: #FFFFFF; border-radius: 10rpx;\">上传图片</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"border mt\" style=\"width: 400rpx; height: 400rpx; border-radius: 10rpx;\">\r\n\t\t\t\t\t<image :src=\"picUrl\" mode=\"aspectFit\" style=\"width: 400rpx; height: 400rpx;\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\r\n\t\t\t<view class=\"d-flex mt-2\">\r\n\t\t\t\t<view class=\"border font-28 pl-1 pr-1\"  @click=\"addGoodsSpec\"\r\n\t\t\t\tstyle=\"border-radius: 10rpx; background-color: #007AFF; color: #FFFFFF;\">{{specTitle}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-flex flex-row flex-wrap a-center\" style=\"width: 500rpx;\">\r\n\t\t\t\t<view class=\"d-flex flex-row\" v-for=\"(item1,index1) in SpecificationList\" :key=\"index1\">\r\n\t\t\t\t\t<block v-if=\"item1.Price\">\r\n\t\t\t\t\t\t<view class=\"font-26\">{{item1.Name}}</view>\r\n\t\t\t\t\t\t<view class=\"font-26\" style=\"color: #FD6801;\">￥{{item1.Price}}</view>\r\n\t\t\t\t\t\t<view class=\"font-26\" v-if=\"index1 != SpecificationList.length - 1\">,</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex mt-2\">\r\n\t\t\t\t<view class=\"border font-28 pl-1 pr-1\"  @click=\"addGoodsTaste\"\r\n\t\t\t\tstyle=\"border-radius: 10rpx; background-color: #007AFF; color: #FFFFFF;\">{{tasteTitle}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-flex flex-row flex-wrap a-center mt-1\" style=\"width: 500rpx;\">\r\n\t\t\t\t<view class=\"d-flex flex-row\" v-for=\"(item1,index1) in TasteList\" :key=\"index1\">\r\n\t\t\t\t\t<view class=\"border pl-1 pr-1 font-26 ml mt\">{{item1.Name}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"font-30 font-weight\">产品编号</view>\r\n\t\t\t\t<input class=\"border font-30\" style=\"width: 400rpx; border-radius: 10rpx;\" type=\"text\" :value=\"numberText\"\r\n\t\t\t\tplaceholder=\"请输入产品编号\" maxlength=\"8\" @input=\"numberInput\"/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"font-30 font-weight\">产品排序值</view>\r\n\t\t\t\t<input class=\"border font-30\" style=\"width: 400rpx; border-radius: 10rpx;\" type=\"text\" :value=\"sortValueText\"\r\n\t\t\t\tplaceholder=\"请输入产品排序值\" maxlength=\"8\" @input=\"sortValueInput\"/>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-flex a-center font-20\" style=\"color: #FF582B;\">\r\n\t\t\t\t(说明：值越大显示在越前面)\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"font-30 font-weight\">是否限购</view>\r\n\t\t\t\t<radio-group @change=\"checkboxIsLimitBuy\">\r\n\t\t\t\t\t<label><radio value=\"shi\" style=\"transform:scale(0.8)\"/>是</label>\r\n\t\t\t\t\t<label><radio value=\"fou\" checked=\"true\" style=\"transform:scale(0.8)\"/>否</label>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\" v-if=\"isShowStock\">\r\n\t\t\t\t<view class=\"d-flex flex-row\">\r\n\t\t\t\t\t<view class=\"font-30 font-weight\">库存</view>\r\n\t\t\t\t\t<view class=\"font-24 ml-1\" style=\"color: #FF0000;\">*</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<input class=\"border font-30\" style=\"width: 400rpx; border-radius: 10rpx;\" type=\"text\" :value=\"Stock\"\r\n\t\t\t\tplaceholder=\"请输入产品库存(大于0)\" maxlength=\"5\" @input=\"stockInput\"/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"font-30 font-weight\">是否展示</view>\r\n\t\t\t\t<radio-group @change=\"checkboxEnabled\">\r\n\t\t\t\t\t<label><radio value=\"shi\" checked=\"true\" style=\"transform:scale(0.8)\"/>是</label>\r\n\t\t\t\t\t<label><radio value=\"fou\" style=\"transform:scale(0.8)\"/>否</label>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex flex-column j-center mt-2\">\r\n\t\t\t\t<view class=\"font-30 font-weight\">产品描述</view>\r\n\t\t\t\t<view class=\"border\" style=\"width: 600rpx; border-radius: 10rpx;\">\r\n\t\t\t\t\t<textarea class=\"ml-1 mt font-30\" style=\"width: 580rpx;\" type=\"text\" :value=\"productDesText\" \r\n\t\t\t\t\tplaceholder=\"产品描述\"  @input=\"productDesInput\"/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"d-flex a-center j-center mt-2\">\r\n\t\t\t\t<view class=\"border font-38 pl-1 pr-1\"  @click=\"uploadInfo\"\r\n\t\t\t\tstyle=\"border-radius: 10rpx; background-color: #007AFF; color: #FFFFFF;\">{{btnName}}</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"\" style=\"height: 70rpx;\"></view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<specification-popup ref=\"specPopup\"></specification-popup>\r\n\t\t<taste-popup ref=\"tastePopup\"></taste-popup>\n\t</view>\n</template>\n\n<script>\r\n\timport specificationPopup from \"@/components/popup/goods/specification.vue\"\r\n\timport tastePopup from \"@/components/popup/goods/taste.vue\"\r\n\timport uniCombox from \"@/components/uni-combox/uni-combox.vue\"\r\n\t\r\n\timport {mapState,mapGetters,mapActions,mapMutations} from \"vuex\"\r\n\t\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tspecificationPopup,\r\n\t\t\ttastePopup,\r\n\t\t\tuniCombox\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tpicUrl:null,\r\n\t\t\t\ttempPicList:'',\r\n\t\t\t\tproductDesText: '',//不是必填\r\n\t\t\t\tnumberText:null,//不是必填\r\n\t\t\t\tSpecificationList:null,//不是必填\r\n\t\t\t\tTasteList:null,//不是必填\r\n\t\t\t\tsortValueText:0,\r\n\t\t\t\tpriceText:null,\r\n\t\t\t\tnameText:null,\r\n\t\t\t\ttypeText:null,\r\n\t\t\t\tEnabled:1,\r\n\t\t\t\tIsLimitBuy:0,\r\n\t\t\t\tStock:0,\r\n\t\t\t\t//默认名称\r\n\t\t\t\tID:null,\r\n\t\t\t\ttasteTitle:'添加产品口味',\r\n\t\t\t\tspecTitle:'添加产品规格',\r\n\t\t\t\tbtnName:'提交新增',\r\n\t\t\t\tisChange:false\r\n\t\t\t}\n\t\t},\r\n\t\tonLoad: function (option) {\r\n\t\t\tif(option.ID){\r\n\t\t\t\tthis.getItem(option.ID)\r\n\t\t\t\tthis.ID = option.ID\r\n\t\t\t\tthis.isChange = true\r\n\t\t\t\t//修改\r\n\t\t\t\tthis.tasteTitle = '修改产品口味'\r\n\t\t\t\tthis.specTitle = '修改产品规格'\r\n\t\t\t\tthis.btnName = '确认修改'\r\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\tgoodsTypeList:state=>state.goods.goodsTypeList,\r\n\t\t\t\tgoodsList:state=>state.goods.goodsList,\r\n\t\t\t}),\r\n\t\t\t...mapGetters([\r\n\t\t\t]),\r\n\t\t\tisShowStock(){\r\n\t\t\t\tif(this.IsLimitBuy == 1){\r\n\t\t\t\t\treturn true\r\n\t\t\t\t}else if(this.IsLimitBuy == 0){\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetTypeNameList(){\r\n\t\t\t\tvar tempList = []\r\n\t\t\t\tfor (var i = 0; i < this.goodsTypeList.length; i++) {\r\n\t\t\t\t\ttempList.push(this.goodsTypeList[i].Name)\r\n\t\t\t\t}\r\n\t\t\t\treturn tempList\r\n\t\t\t},\r\n\t\t\tgetTypeName(){\r\n\t\t\t\tif(this.typeText){\r\n\t\t\t\t\tfor (var i = 0; i < this.goodsTypeList.length; i++) {\r\n\t\t\t\t\t\tif(this.goodsTypeList[i].ID == this.typeText){\r\n\t\t\t\t\t\t\treturn this.goodsTypeList[i].Name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'updateGoodsTypeList',\r\n\t\t\t\t'pushUpdateGoodsTypeList',\r\n\t\t\t\t'updateGoodsList'\r\n\t\t\t]),\r\n\t\t\t...mapActions([\r\n\t\t\t\t'updateGoodsListFunc'\r\n\t\t\t]),\r\n\t\t\tgetItem(id){\r\n\t\t\t\tfor (var i = 0; i < this.goodsList.length; i++) {\r\n\t\t\t\t\tif(this.goodsList[i].ID == id){\r\n\t\t\t\t\t\tthis.syncItemData(this.goodsList[i])\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsyncItemData(item){\r\n\t\t\t\tthis.picUrl = item.TitleImgUrl,\r\n\t\t\t\tthis.productDesText = item.Description,\r\n\t\t\t\tthis.numberText = item.Code,\r\n\t\t\t\tthis.SpecificationList = item.SpecificationList,\r\n\t\t\t\tthis.TasteList = item.TasteList,\r\n\t\t\t\tthis.sortValueText = item.SortValue,\r\n\t\t\t\tthis.priceText = item.Price,\r\n\t\t\t\tthis.nameText = item.Name,\r\n\t\t\t\tthis.typeText = item.ProductTypeID,\r\n\t\t\t\tthis.Enabled = item.Enabled,\r\n\t\t\t\tthis.IsLimitBuy = item.IsLimitBuy,\r\n\t\t\t\tthis.Stock = item.Stock\r\n\t\t\t},\r\n\t\t\tupload : function(){\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\turl: _self.$H.common.baseUrl + '/api/Product/UploadImg',\r\n\t\t\t\t\t\t\tfilePath: res.tempFilePaths[0],\r\n\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\theader:_self.$H.getHeader(),\r\n\t\t\t\t\t\t\tsuccess: (uploadFileRes) => {\r\n\t\t\t\t\t\t\t\tvar ress = JSON.parse(uploadFileRes.data)\r\n\t\t\t\t\t\t\t\tconsole.log(ress)\r\n\t\t\t\t\t\t\t\tif(ress.status == 0){\r\n\t\t\t\t\t\t\t\t\t_self.picUrl = res.tempFilePaths[0]\r\n\t\t\t\t\t\t\t\t\t_self.tempPicList = ress.data\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({title:ress.message, icon: 'none', duration:1000})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror : function(e){\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tproductDesInput(e){\r\n\t\t\t\tthis.productDesText = e.detail.value\r\n\t\t\t},\r\n\t\t\tsortValueInput(e){\r\n\t\t\t\tthis.sortValueText = e.detail.value\r\n\t\t\t},\r\n\t\t\tnumberInput(e){\r\n\t\t\t\tthis.numberText = e.detail.value\r\n\t\t\t},\r\n\t\t\tpriceInput(e){\r\n\t\t\t\tthis.priceText = e.detail.value\r\n\t\t\t},\r\n\t\t\tnameInput(e){\r\n\t\t\t\tthis.nameText = e.detail.value\r\n\t\t\t},\r\n\t\t\ttypeInput(e){\r\n\t\t\t\tfor (var i = 0; i < this.goodsTypeList.length; i++) {\r\n\t\t\t\t\tlet temp = this.goodsTypeList[i]\r\n\t\t\t\t\tif(temp.Name == e){\r\n\t\t\t\t\t\tthis.typeText = temp.ID\r\n\t\t\t\t\t\tconsole.log(this.typeText)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.typeText = null\r\n\t\t\t},\r\n\t\t\tstockInput(e){\r\n\t\t\t\tthis.Stock = e.detail.value\r\n\t\t\t},\r\n\t\t\tsyncSpecInput(list){\r\n\t\t\t\tthis.SpecificationList = list\r\n\t\t\t},\r\n\t\t\tsyncTasteInput(list){\r\n\t\t\t\tthis.TasteList = list\r\n\t\t\t},\r\n\t\t\tcheckboxIsLimitBuy:function(e){\r\n\t\t\t\tvar\tvalue = e.target.value\r\n\t\t\t\tif(value == 'shi'){\r\n\t\t\t\t\tthis.IsLimitBuy = 1\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.IsLimitBuy = 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckboxEnabled:function(e){\r\n\t\t\t\tvar\tvalue = e.target.value\r\n\t\t\t\tif(value == 'shi'){\r\n\t\t\t\t\tthis.Enabled = 1\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.Enabled = 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddGoodsTaste(){\r\n\t\t\t\tthis.$refs.tastePopup.showPopup(this.TasteList, this.syncTasteInput)\r\n\t\t\t},\r\n\t\t\taddGoodsSpec(){\r\n\t\t\t\tthis.$refs.specPopup.showPopup(this.SpecificationList, this.syncSpecInput)\r\n\t\t\t},\r\n\t\t\tuploadInfo(){\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tvar tempStr = ''\r\n\t\t\t\t\r\n\t\t\t\tif(!_self.typeText){\r\n\t\t\t\t\ttempStr = '请选择产品类别'\r\n\t\t\t\t}\r\n\t\t\t\tif(!_self.nameText){\r\n\t\t\t\t\ttempStr = '请输入产品名称'\r\n\t\t\t\t}\r\n\t\t\t\tif(!_self.priceText){\r\n\t\t\t\t\ttempStr = '请输入产品价格'\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.tempPicList == '' && !this.isChange){\r\n\t\t\t\t\ttempStr = '请上传产品图片'\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.IsLimitBuy == 1 && _self.Stock <= 0){\r\n\t\t\t\t\ttempStr = '请输入正确的库存'\r\n\t\t\t\t}\r\n\t\t\t\tif(tempStr){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:tempStr, \r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration:1000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar postObj = {\r\n\t\t\t\t\tProductTypeID:_self.typeText,\r\n\t\t\t\t\tName:_self.nameText,\r\n\t\t\t\t\tPrice:_self.priceText,\r\n\t\t\t\t\tSortValue:_self.sortValueText,\r\n\t\t\t\t\tEnabled:_self.Enabled,\r\n\t\t\t\t\tStock:_self.Stock,\r\n\t\t\t\t\tIsLimitBuy:_self.IsLimitBuy\r\n\t\t\t\t}\r\n\t\t\t\tif(!_self.tempPicList){\r\n\t\t\t\t\tpostObj.TitleImgUrl = _self.picUrl\r\n\t\t\t\t\tpostObj.TempImgPath = ''\r\n\t\t\t\t}else{\r\n\t\t\t\t\tpostObj.TempImgPath = _self.tempPicList.TempImgPath\r\n\t\t\t\t\tpostObj.TitleImgUrl = _self.tempPicList.TitleImgUrl\r\n\t\t\t\t\tpostObj.MinTitleImgUrl = _self.tempPicList.MinTitleImgUrl\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.productDesText){\r\n\t\t\t\t\tpostObj.Description = _self.productDesText\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.numberText){\r\n\t\t\t\t\tpostObj.Code = _self.numberText\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.SpecificationList){\r\n\t\t\t\t\tpostObj.SpecificationList = _self.SpecificationList\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.TasteList){\r\n\t\t\t\t\tpostObj.TasteList = _self.TasteList\r\n\t\t\t\t}\r\n\t\t\t\tif(_self.ID){\r\n\t\t\t\t\tpostObj.ID = _self.ID\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({title:'上传信息中...'})\r\n\t\t\t\t\r\n\t\t\t\tvar urlStr = '/api/Product/Add'\r\n\t\t\t\tif(_self.isChange){\r\n\t\t\t\t\turlStr = '/api/Product/Update'\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(JSON.stringify(postObj))\r\n\t\t\t\t_self.$H.post(urlStr,{\r\n\t\t\t\t\tdata:JSON.stringify(postObj)\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif(res.status == 0){\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tvar tempList = _self.goodsList\r\n\t\t\t\t\t\tif(_self.isChange){\r\n\t\t\t\t\t\t\tfor (var i = 0; i < tempList.length; i++) {\r\n\t\t\t\t\t\t\t\tif(tempList[i].ID == res.data.ID){\r\n\t\t\t\t\t\t\t\t\ttempList.splice(i, 1, res.data);\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni.showToast({ title:res.message,  icon: 'none', duration:res.messageShowTime})\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\ttempList.unshift(res.data)\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({ title:res.message,  icon: 'none', duration:res.messageShowTime})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}