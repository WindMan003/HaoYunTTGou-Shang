{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Uniapp-Project/商家后台1.0.0/pages/order/order-employee.vue?2a21","webpack:///D:/Uniapp-Project/商家后台1.0.0/pages/order/order-employee.vue?b8c2","webpack:///D:/Uniapp-Project/商家后台1.0.0/pages/order/order-employee.vue?5214","webpack:///D:/Uniapp-Project/商家后台1.0.0/pages/order/order-employee.vue?87ab","uni-app:///pages/order/order-employee.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;;;AAG7D;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,sNAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAA2mB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0D/nB,gD;AACA;AACA;AACA,wBADA;AAEA,8BAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,kBADA;AAEA,yBAFA;AAGA,0BAHA;AAIA,gCAJA;AAKA,eALA;AAMA;AACA,iEAPA;AAQA,uBARA;AASA,qBATA;AAUA,qBAVA;AAWA,qBAXA;AAYA,iBAZA;;AAcA,GApBA;AAqBA,QArBA,oBAqBA;AACA;AACA;AACA;AACA,OAHA;;AAKA;AACA,GA5BA;AA6BA;AACA;AACA,wEADA,GADA;;AAIA,2BAJA;;AAMA,cANA,wBAMA;AACA;AACA,KARA,GA7BA;;AAuCA;AACA;AACA,mBADA;AAEA,uBAFA;AAGA,UAHA,EADA;;AAMA,2BANA;;AAQA,mBARA,2BAQA,CARA,EAQA;AACA;AACA,KAVA;AAWA,iBAXA,yBAWA,CAXA,EAWA;AACA;AACA,KAbA;AAcA,UAdA,oBAcA;AACA;AACA,KAhBA;AAiBA,YAjBA,oBAiBA,CAjBA,EAiBA;AACA;AACA,KAnBA;AAoBA,YApBA,oBAoBA,CApBA,EAoBA;AACA;AACA,KAtBA;AAuBA,UAvBA,kBAuBA,CAvBA,EAuBA;AACA;AACA;AACA;AACA;AACA,KA5BA;AA6BA,kBA7BA,0BA6BA,IA7BA,EA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtCA;AAuCA,YAvCA,sBAuCA;AACA;AACA;AACA,KA1CA;AA2CA,SA3CA,mBA2CA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA,KAtDA;AAuDA,WAvDA,qBAuDA;AACA;AACA;AACA,KA1DA;AA2DA,gBA3DA,wBA2DA,KA3DA,EA2DA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KAlEA;AAmEA,cAnEA,wBAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1EA;;AA4EA,eA5EA,uBA4EA,SA5EA,EA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAbA,MAaA;AACA;AACA;AACA,OApBA;AAqBA,KApHA;AAqHA,oBArHA,8BAqHA;AACA;AACA;AACA;AACA,sCADA;;AAGA,KA3HA,GAvCA,E","file":"pages/order/order-employee.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/order-employee.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order-employee.vue?vue&type=template&id=554aa48e&\"\nvar renderjs\nimport script from \"./order-employee.vue?vue&type=script&lang=js&\"\nexport * from \"./order-employee.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Uniapp-Project/商家后台1.0.0/pages/order/order-employee.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-employee.vue?vue&type=template&id=554aa48e&\"","var components = {\n  timeSelector: function() {\n    return import(\n      /* webpackChunkName: \"components/time-selector/time-selector\" */ \"@/components/time-selector/time-selector.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-employee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order-employee.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"main\">\r\n\t\t<view class=\"mt-1 position-relative\" style=\"height:80rpx;\">\r\n\t\t\t<view class=\"font-26 border rounded-10 pl-1 pr-1 position-absolute btn-orange-white text-center\" \r\n\t\t\tstyle=\"right: 15rpx;\" @click=\"employeeLoginOut\">退出登录</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"border-bottom w-100 d-flex flex-column a-center\"  style=\"height:200rpx;\">\r\n\t\t\t<view class=\"w-100 d-flex flex-row a-center ml-2\" style=\"height: 80rpx;\">\r\n\t\t\t\t<view class=\"border font-30 d-flex a-center\"  style=\"width: 180rpx; height: 50rpx;\">\r\n\t\t\t\t\t<input class=\"ml-1\" type=\"number\" :value=\"orderNumber\" placeholder=\"订单号\" maxlength=\"20\" @input=\"orderNum\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<input class=\"ml-1 border font-30\" style=\"width: 100rpx; height: 50rpx;\" type=\"number\" :value=\"tableNumber\"\r\n\t\t\t\tplaceholder=\"桌子号\" maxlength=\"5\" @input=\"tableNum\"/>\r\n\t\t\t\t\r\n\t\t\t\t<time-selector showType=\"date\" @btnConfirm=\"btnConfirmBegin\">\r\n\t\t\t\t\t<view class=\"ml-3 border font-26\" style=\"color: #999999; height: 50rpx; width: 180rpx;\">{{beginDate}}</view>\r\n\t\t\t\t</time-selector>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"font-26 text-center\" style=\"width: 30rpx; height: 40rpx;\">-</view>\r\n\t\t\t\t\r\n\t\t\t\t<time-selector showType=\"date\" @btnConfirm=\"btnConfirmEnd\">\r\n\t\t\t\t\t<view class=\"border font-26\" style=\"color: #999999; height: 50rpx; width: 180rpx;\">{{endDate}}</view>\r\n\t\t\t\t</time-selector>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"w-100 d-flex flex-row a-center\" style=\"height: 60rpx;\">\r\n\t\t\t\t<view class=\"ml-2 border font-28 pl-1 pr-1 btn-orange-white rounded-10\" @click=\"clearInput\">清空条件</view>\r\n\t\t\t\t<view class=\"ml-2 border font-28 pl-1 pr-1 btn-orange-white rounded-10\" @click=\"check\">查询订单</view>\r\n\t\t\t\t<view class=\"ml-2 border font-28 pl-1 pr-1 btn-orange-white rounded-10\" @click=\"refresh\">刷新列表</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"w-100 d-flex flex-row a-center ml-2 flex-wrap\" style=\"height: 60rpx;\">\r\n\t\t\t\t<block v-for=\"(item, index) in defaultStatus\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"ml-1 mt mb pl pr font-26 border rounded\"\r\n\t\t\t\t\t:style=\"index == statusID ? 'color: #FD6801; border-color: #FD6801;':''\"\r\n\t\t\t\t\t@click=\"switchStatus(index)\">\r\n\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view scroll-y :croll-with-animation=\"true\" :style=\"'height:'+(totalH - 130)+'px;'\" @scroll=\"Scroll\">\r\n\t\t\t<view class=\"\" v-for=\"(item,index) in orderList\" :key=\"index\">\r\n\t\t\t\t<order-item :item=\"item\"></order-item>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"d-flex j-center font-22 p-2\" style=\"color: #007AFF;\" v-if=\"isShowLoadMoreBoole\" @click=\"loadMore\">加载更多</view>\r\n\t\t\t<view class=\"d-flex j-center font-22 p-2\" style=\"color: #C8C7CC;\" v-else>没有更多了~</view>\r\n\t\t\t<view style=\"height: 30rpx;\"></view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\t\r\n<script>\r\n\timport orderItem from \"@/components/order/order-item.vue\"\r\n\timport timeSelector from \"@/components/time-selector/time-selector.vue\"\r\n\t\r\n\timport {mapState,mapGetters,mapActions,mapMutations} from \"vuex\"\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\torderItem,\r\n\t\t\ttimeSelector\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisMore:true,\r\n\t\t\t\tdefaultPageIndex:1,\r\n\t\t\t\tdefaultItemCount:15,\r\n\t\t\t\tisShowLoadMoreBoole:false,\r\n\t\t\t\ttotalH:0,\r\n\t\t\t\t//查询值默认\r\n\t\t\t\tdefaultStatus:[\"未确认\",\"进行中\",\"支付中\",\"已完成\",\"用户取消\",\"商户取消\"],\r\n\t\t\t\tbeginDate:'起始时间',\r\n\t\t\t\tendDate:'结束时间',\r\n\t\t\t\torderNumber:'',\r\n\t\t\t\ttableNumber:'',\r\n\t\t\t\tstatusID:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.totalH = res.windowHeight\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.__init();\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState({\r\n\t\t\t\torderList:state=>state.order.orderList,\r\n\t\t\t}),\r\n\t\t\t...mapGetters([\r\n\t\t\t]),\r\n\t\t\tgetNowTime(){\r\n\t\t\t\treturn new Date().toISOString().slice(0, 10)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'updateOrderList',\r\n\t\t\t\t'pushUpdateOrderList',\r\n\t\t\t\t'logout'\r\n\t\t\t]),\r\n\t\t\t...mapActions([\r\n\t\t\t]),\r\n\t\t\tbtnConfirmBegin(e){\r\n\t\t\t\tthis.beginDate = e.key\r\n\t\t\t},\r\n\t\t\tbtnConfirmEnd(e){\r\n\t\t\t\tthis.endDate = e.key\r\n\t\t\t},\r\n\t\t\t__init(){\r\n\t\t\t\tthis.requestData()\r\n\t\t\t},\r\n\t\t\torderNum(e){\r\n\t\t\t\tthis.orderNumber = e.detail.value\r\n\t\t\t},\r\n\t\t\ttableNum(e){\r\n\t\t\t\tthis.tableNumber = e.detail.value\r\n\t\t\t},\r\n\t\t\tScroll(e){\r\n\t\t\t\tif(this.isMore){\r\n\t\t\t\t\tthis.isMore = false\r\n\t\t\t\t\tthis.isShowLoadMore()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisShowLoadMore(list){\r\n\t\t\t\tvar tempList = this.orderList\r\n\t\t\t\tif(list){\r\n\t\t\t\t\ttempList = list\r\n\t\t\t\t}\r\n\t\t\t\tif(tempList.length >= this.defaultItemCount){\r\n\t\t\t\t\treturn this.isShowLoadMoreBoole = true\r\n\t\t\t\t}\r\n\t\t\t\treturn this.isShowLoadMoreBoole = false\r\n\t\t\t},\r\n\t\t\tloadMore(){\r\n\t\t\t\tthis.defaultPageIndex = this.defaultPageIndex + 1\r\n\t\t\t\tthis.requestData('loadMore')\r\n\t\t\t},\r\n\t\t\tcheck(){\r\n\t\t\t\tif(this.beginDate == '起始时间' && this.endDate == '结束时间' && this.orderNumber == '' && this.tableNumber == '')\r\n\t\t\t\t{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请输入要查询的内容',\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\tduration:1000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestData()\r\n\t\t\t},\r\n\t\t\trefresh(){\r\n\t\t\t\tthis.defaultPageIndex = 1\r\n\t\t\t\tthis.requestData('refresh')\r\n\t\t\t},\r\n\t\t\tswitchStatus(index){\r\n\t\t\t\tif(this.statusID == index){\r\n\t\t\t\t\tthis.statusID = 99\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.statusID = index\r\n\t\t\t\t}\r\n\t\t\t\tthis.requestData()\r\n\t\t\t},\r\n\t\t\tclearInput(){\r\n\t\t\t\tthis.beginDate = '起始时间'\r\n\t\t\t\tthis.endDate = '结束时间'\r\n\t\t\t\tthis.orderNumber = ''\r\n\t\t\t\tthis.tableNumber = ''\r\n\t\t\t\tthis.defaultPageIndex = 1\r\n\t\t\t\tthis.requestData('clear')\r\n\t\t\t},\r\n\t\t\r\n\t\t\trequestData(className){\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tvar uploadList = {PageIndex:_self.defaultPageIndex};\r\n\t\t\t\tif(this.orderNumber != ''){\r\n\t\t\t\t\tuploadList.OrderID = this.orderNumber\r\n\t\t\t\t}\r\n\t\t\t\tif(this.tableNumber != ''){\r\n\t\t\t\t\tuploadList.TableNumber = this.tableNumber\r\n\t\t\t\t}\r\n\t\t\t\tif(this.beginDate != '起始时间'){\r\n\t\t\t\t\tuploadList.StartTime = this.beginDate\r\n\t\t\t\t}\r\n\t\t\t\tif(this.endDate != '结束时间'){\r\n\t\t\t\t\tuploadList.EndTime = this.endDate\r\n\t\t\t\t}\r\n\t\t\t\tif(this.statusID != 99){\r\n\t\t\t\t\tuploadList.Status = this.statusID\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t_self.$H.post('/api/Order/List',uploadList,{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.status == 0){\r\n\t\t\t\t\t\tif(className == 'refresh'){\r\n\t\t\t\t\t\t\tuni.showToast({title:'刷新成功', icon:'none', duration:1000})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(className == 'clear'){\r\n\t\t\t\t\t\t\tuni.showToast({title:'清空查询成功', icon:'none', duration:1000})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_self.isShowLoadMore(res.data)\r\n\t\t\t\t\t\tif(className == 'loadMore'){\r\n\t\t\t\t\t\t\t_self.pushUpdateOrderList(res.data)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_self.updateOrderList(res.data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({title:res.message, icon:'none', duration:1500})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\temployeeLoginOut(){\r\n\t\t\t\tuni.setStorageSync('em_token', '')\r\n\t\t\t\tthis.logout()\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl:'../login/login-employee'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}